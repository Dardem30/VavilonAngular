  <style>
  br {
    margin-bottom: 10px;
  }

  mat-form-field {
    width: 100%;
  }
</style>
<h2>Product details</h2>
<mat-divider style="margin-bottom: 10px"></mat-divider>
<mat-form-field appearance="fill">
  <mat-label>Product name</mat-label>
  <input matInput [(ngModel)]="product.name" required>
</mat-form-field>
<br>
<mat-form-field appearance="fill">
  <mat-label>Select product category</mat-label>
  <mat-select [(ngModel)]="product.productCategory.productCategoryId" required>
    <mat-option *ngFor="let productCategory of productCategories"
                [value]="productCategory.productCategoryId">{{productCategory.name}}</mat-option>
  </mat-select>
</mat-form-field>
<br>
<input #fileInput hidden type="file" (change)="filesUploaded($event)" accept="image/jpeg,image/jpg,image/png"/>
<button mat-raised-button style="margin-bottom: 10px" (click)="fileInput.click()">Upload images</button>
<br>
<div style="overflow-y: auto; max-height: 280px;padding: 15px">
  <div *ngFor="let attachment of productAttachments; let index = index" [attr.data-index]="index"
       style="width: 100%;padding-top: 10px; display: block">
    <img mat-card-image
         src="{{attachment.fileSrc == null ? 'https://drive.google.com/uc?export=view&id=' +  attachment.fileId : attachment.fileSrc}}"
         style="max-height: 300px; max-width: 300px; margin-right: 20px">
    <div style="width: 300px">
      <mat-checkbox style="margin-right: 20px" [(ngModel)]="attachment.main" [checked]="attachment.main"
                    (change)="mainImageChanged(index)">Main
      </mat-checkbox>
      <mat-checkbox [(ngModel)]="attachment.delete" [checked]="attachment.delete">Delete</mat-checkbox>
    </div>
    <br>
  </div>
</div>
<br>
<mat-form-field appearance="fill" style="width: 650px">
  <mat-label>Description</mat-label>
  <textarea matInput style="height: 200px" [(ngModel)]="product.description"></textarea>
</mat-form-field>
<mat-divider></mat-divider>
<div style="place-content: end; margin-top: 10px; float: right">
  <button mat-raised-button style="margin-right: 10px" (click)="saveProduct()">
    Save
  </button>
  <button #productCloseButton mat-raised-button mat-dialog-close>
    Close
  </button>
</div>
